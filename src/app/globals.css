@import "tailwindcss";

@theme {
  --color-sheep-black: #050505;
  --color-sheep-dark: #0c0c0c;
  --color-sheep-gray: #161616;
  --color-sheep-muted: #555555;
  --color-sheep-text: #a0a0a0;
  --color-sheep-light: #cfcfcf;
  --color-sheep-white: #eeeeee;
  --color-sheep-glow: #1a1a2e;
  --color-sheep-accent: #2d1b4e;
  --font-mono: "JetBrains Mono", "SF Mono", "Fira Code", monospace;
  --font-dream: "Cormorant Garamond", "Georgia", serif;
}

/* ─── Base ─── */
html {
  scroll-behavior: smooth;
}

body {
  background-color: var(--color-sheep-black);
  color: var(--color-sheep-text);
  font-family: var(--font-mono);
  overflow-x: hidden;
}

/* ─── Grain overlay ─── */
.grain-overlay {
  position: fixed;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  pointer-events: none;
  z-index: 100;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  animation: grain 8s steps(10) infinite;
}

@keyframes grain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -10%); }
  20% { transform: translate(-15%, 5%); }
  30% { transform: translate(7%, -25%); }
  40% { transform: translate(-5%, 25%); }
  50% { transform: translate(-15%, 10%); }
  60% { transform: translate(15%, 0%); }
  70% { transform: translate(0%, 15%); }
  80% { transform: translate(3%, 35%); }
  90% { transform: translate(-10%, 10%); }
}

/* ─── Scanlines ─── */
.scanlines::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 99;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 2px,
    rgba(0, 0, 0, 0.03) 4px
  );
}

/* ─── Vignette ─── */
.vignette {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 98;
  background: radial-gradient(
    ellipse at center,
    transparent 50%,
    rgba(5, 5, 5, 0.6) 100%
  );
}

/* ─── Dream card animations ─── */
@keyframes dream-materialize {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.98);
    filter: blur(4px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

.dream-enter {
  opacity: 0;
  animation: dream-materialize 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* ─── Breathing glow ─── */
@keyframes breathe {
  0%, 100% {
    opacity: 0.15;
    transform: scale(1);
  }
  50% {
    opacity: 0.25;
    transform: scale(1.05);
  }
}

.breathing-glow {
  animation: breathe 8s ease-in-out infinite;
}

/* ─── Pulse indicator ─── */
@keyframes soft-pulse {
  0%, 100% { opacity: 0.2; }
  50% { opacity: 0.9; }
}

.pulse-indicator {
  animation: soft-pulse 4s ease-in-out infinite;
}

/* ─── Mood vector bars ─── */
@keyframes mood-grow {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.mood-bar-segment {
  animation: mood-grow 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* ─── Dream image mask ─── */
.dream-image-mask {
  mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    black 8%,
    black 85%,
    transparent 100%
  );
  -webkit-mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    black 8%,
    black 85%,
    transparent 100%
  );
}

.dream-image-vignette::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 40%,
    rgba(5, 5, 5, 0.8) 100%
  );
  pointer-events: none;
}

/* ─── Hero void ─── */
@keyframes void-drift {
  0%, 100% {
    background-position: 50% 50%;
    opacity: 0.6;
  }
  33% {
    background-position: 51% 49%;
    opacity: 0.7;
  }
  66% {
    background-position: 49% 51%;
    opacity: 0.5;
  }
}

.void-bg {
  background: radial-gradient(
    ellipse 600px 400px at 50% 50%,
    var(--color-sheep-glow) 0%,
    var(--color-sheep-accent) 25%,
    var(--color-sheep-black) 70%
  );
  animation: void-drift 20s ease-in-out infinite;
}

/* ─── CRT flicker ─── */
@keyframes flicker {
  0% { opacity: 0.97; }
  5% { opacity: 0.95; }
  10% { opacity: 0.98; }
  15% { opacity: 0.96; }
  20% { opacity: 0.99; }
  80% { opacity: 0.98; }
  85% { opacity: 0.95; }
  90% { opacity: 0.99; }
  100% { opacity: 0.97; }
}

.crt-flicker {
  animation: flicker 6s infinite;
}

/* ─── Line reveal ─── */
@keyframes line-reveal {
  from {
    width: 0;
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.line-reveal {
  overflow: hidden;
  animation: line-reveal 2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* ─── Stagger children ─── */
.stagger-children > * {
  opacity: 0;
  animation: dream-materialize 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}
.stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
.stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
.stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
.stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
.stagger-children > *:nth-child(5) { animation-delay: 0.5s; }
.stagger-children > *:nth-child(6) { animation-delay: 0.6s; }
.stagger-children > *:nth-child(7) { animation-delay: 0.7s; }
.stagger-children > *:nth-child(8) { animation-delay: 0.8s; }
.stagger-children > *:nth-child(9) { animation-delay: 0.9s; }
.stagger-children > *:nth-child(10) { animation-delay: 1.0s; }

/* ─── Archive row hover ─── */
.archive-row {
  position: relative;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.archive-row::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 1px;
  background: var(--color-sheep-muted);
  transition: width 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.archive-row:hover::before {
  width: 20px;
}

.archive-row:hover {
  padding-left: 32px;
}

/* ─── Scrollbar ─── */
::-webkit-scrollbar {
  width: 2px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--color-sheep-muted);
  border-radius: 1px;
}

/* ─── Selection ─── */
::selection {
  background: rgba(45, 27, 78, 0.5);
  color: var(--color-sheep-white);
}

/* ─── Separator line ─── */
.separator-line {
  height: 1px;
  background: linear-gradient(
    to right,
    transparent,
    var(--color-sheep-muted) 20%,
    var(--color-sheep-muted) 80%,
    transparent
  );
  opacity: 0.5;
}

/* ─── Hover glow on links ─── */
.glow-hover {
  transition: all 0.5s ease;
}

.glow-hover:hover {
  text-shadow: 0 0 20px rgba(160, 160, 160, 0.15);
}

/* ─── Terminal color palette ─── */
@theme {
  --color-term-cyan: #00ffd5;
  --color-term-magenta: #ff00ff;
  --color-term-green: #39ff14;
  --color-term-amber: #ffb000;
  --color-term-red: #ff073a;
  --color-term-dim: #1a1a2e;
}

/* ─── Terminal glow ─── */
.terminal-glow {
  text-shadow:
    0 0 4px var(--color-term-cyan),
    0 0 12px rgba(0, 255, 213, 0.15);
}

.terminal-glow-magenta {
  text-shadow:
    0 0 4px var(--color-term-magenta),
    0 0 12px rgba(255, 0, 255, 0.15);
}

.terminal-glow-green {
  text-shadow:
    0 0 4px var(--color-term-green),
    0 0 12px rgba(57, 255, 20, 0.15);
}

.terminal-glow-amber {
  text-shadow:
    0 0 4px var(--color-term-amber),
    0 0 12px rgba(255, 176, 0, 0.15);
}

/* ─── Chromatic aberration ─── */
@keyframes chromatic-shift {
  0%, 100% {
    text-shadow:
      -1px 0 rgba(255, 0, 255, 0.04),
      1px 0 rgba(0, 255, 213, 0.04);
  }
  25% {
    text-shadow:
      -1.5px 0 rgba(255, 0, 255, 0.06),
      1.5px 0 rgba(0, 255, 213, 0.06);
  }
  50% {
    text-shadow:
      -0.5px 0 rgba(255, 0, 255, 0.03),
      0.5px 0 rgba(0, 255, 213, 0.03);
  }
  75% {
    text-shadow:
      -2px 0 rgba(255, 0, 255, 0.05),
      2px 0 rgba(0, 255, 213, 0.05);
  }
}

.chromatic-aberration {
  animation: chromatic-shift 8s ease-in-out infinite;
}

/* ─── Glitch slice ─── */
@keyframes glitch-slice {
  0%, 100% {
    clip-path: inset(0 0 0 0);
    transform: translateX(0);
  }
  5% {
    clip-path: inset(20% 0 60% 0);
    transform: translateX(-2px);
  }
  5.5% {
    clip-path: inset(0 0 0 0);
    transform: translateX(0);
  }
  40% {
    clip-path: inset(60% 0 10% 0);
    transform: translateX(1px);
  }
  40.5% {
    clip-path: inset(0 0 0 0);
    transform: translateX(0);
  }
  80% {
    clip-path: inset(40% 0 40% 0);
    transform: translateX(-1px);
  }
  80.5% {
    clip-path: inset(0 0 0 0);
    transform: translateX(0);
  }
}

/* ─── Scanline heavy (for terminal elements) ─── */
@keyframes scanline-heavy {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 8px;
  }
}

.scanlines-heavy::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 3px,
    rgba(0, 0, 0, 0.06) 3px,
    rgba(0, 0, 0, 0.06) 6px
  );
  animation: scanline-heavy 0.4s linear infinite;
}

/* ─── Text corrupt flicker ─── */
@keyframes text-corrupt {
  0%, 100% { opacity: 1; }
  10% { opacity: 0.85; }
  10.5% { opacity: 1; }
  50% { opacity: 0.9; }
  50.5% { opacity: 1; }
  70% { opacity: 0.88; }
  70.5% { opacity: 1; }
}

/* ─── Terminal border utility ─── */
.terminal-border {
  border: 1px solid rgba(0, 255, 213, 0.15);
  box-shadow:
    0 0 1px rgba(0, 255, 213, 0.08),
    inset 0 0 1px rgba(0, 255, 213, 0.04);
}

.terminal-border-amber {
  border: 1px solid rgba(255, 176, 0, 0.15);
  box-shadow:
    0 0 1px rgba(255, 176, 0, 0.08),
    inset 0 0 1px rgba(255, 176, 0, 0.04);
}

.terminal-border-green {
  border: 1px solid rgba(57, 255, 20, 0.15);
  box-shadow:
    0 0 1px rgba(57, 255, 20, 0.08),
    inset 0 0 1px rgba(57, 255, 20, 0.04);
}

/* ─── Cursor blink ─── */
@keyframes cursor-blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}

.terminal-cursor {
  animation: cursor-blink 1s step-end infinite;
}
